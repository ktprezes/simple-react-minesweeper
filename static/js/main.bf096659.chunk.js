(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var s=r(0),n=r(1),o=r.n(n),c=r(8),l=r.n(c),a=r(5),i={noOfBombs:10,rows:9,cols:8,secPerMinute:60};r(15);var u=function(e){var t=e.marked;return Object(s.jsx)("div",{className:"flagsCounter",children:String(t).padStart(3,"0").split("").join(" ")})};r(16);var b=function(){return Object(s.jsx)("button",{type:"button",className:"resetBtn",children:"New"})};r(17);var m=function(){var e=Object(n.useState)(0),t=Object(a.a)(e,2),r=t[0];return t[1],Object(s.jsxs)("div",{className:"timer",children:[Math.floor(r/i.secPerMinute),Object(s.jsx)("span",{children:":"}),String(r%i.secPerMinute).padStart(2,"0")]})};r(18);var d=function(e){return Object(s.jsxs)("header",{className:"ControlPanel",children:[Object(s.jsx)(u,{marked:e.marked}),Object(s.jsx)(b,{}),Object(s.jsx)(m,{})]})},f=r(6),h=r(4),j=["closed","open","marked"],O=function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"closed";Object(h.a)(this,e),this.bomb=!!t,this.state=j.includes(r)?r:"closed",this.bombsAround=0},v=r.p+"static/media/bomb1.dab46aa2.svg",p=r.p+"static/media/boom1.4d436099.svg",g=(r(19),function(e){var t=Number(e.r),r=Number(e.c),n=e.cellObj,o=e.myCellClickHandler,c="",l="",a=Object(s.jsx)("img",{src:v,className:"bomb-img",alt:"bomb","data-r":t,"data-c":r}),i=Object(s.jsx)("img",{src:p,className:"boom-img",alt:"boom","data-r":t,"data-c":r}),u=Object(s.jsx)("p",{"data-r":t,"data-c":r,children:n.bombsAround.toString()});"marked"===n.state?(c=a,l="marked"):"open"===n.state&&n.bomb?(c=i,l="open boom"):"open"!==n.state||n.bomb?(c="",l="closed"):(c=0===n.bombsAround?"":u,l="open empty");var b="cell "+l;return Object(s.jsx)("div",{className:b,"data-r":t,"data-c":r,onClick:o,onContextMenu:o,children:c})});r(20);var k=function(e){var t=e.r,r=Object(f.a)(Array(i.cols).keys()).map((function(r){var n=r.toString();return Object(s.jsx)(g,{r:t,c:n,cellObj:e.cellRow[r],myCellClickHandler:e.myCellClickHandler},"r"+t+"c"+n)}));return Object(s.jsx)("div",{className:"Row",r:t,children:r})};r(21);var x=function(e){var t=Object(f.a)(Array(i.rows).keys()).map((function(t){var r=t.toString();return Object(s.jsx)(k,{r:r,cellRow:e.cellArr[t],myCellClickHandler:e.myCellClickHandler},"r"+r)}));return Object(s.jsx)("main",{className:"Field",children:t})},y=r(9),w=function(){function e(t,r){Object(h.a)(this,e),this.rows=t,this.cols=r,this.cells=new Array(t).fill(null).map((function(){return Array(r).fill(null).map((function(){return new O(!1,"closed")}))}))}return Object(y.a)(e,[{key:"countBombs",value:function(){if(!this.cells)return 0;for(var e=0,t=0;t<this.rows;t++)for(var r=0;r<this.cols;r++)!0===this.cells[t][r].bomb&&e++;return e}},{key:"fillWithBombs",value:function(e){if(!this.cells||!e)return!1;if("number"!==typeof e)return!1;if(e!==Math.floor(e))return!1;if(e<1||e>this.rows*this.cols)return!1;for(;this.countBombs()<e;){var t=Math.floor(Math.random()*this.rows),r=Math.floor(Math.random()*this.cols);this.cells[t][r].bomb=!0}return!0}},{key:"countBombsAround",value:function(e,t){if(!this.cells)return 0;if("number"!==typeof e||"number"!==typeof t)return 0;if(e!==Math.floor(e)||t!==Math.floor(t))return 0;if(e<0||e>=this.rows)return 0;if(t<0||t>=this.cols)return 0;for(var r=0,s=e-1<0?0:e-1;s<=(e+1>=this.rows?this.rows-1:e+1);s++)for(var n=t-1<0?0:t-1;n<=(t+1>=this.cols?this.cols-1:t+1);n++)s===e&&n===t||this.cells[s][n].bomb&&r++;return r}},{key:"calculateBombsAroundAllCells",value:function(){if(this.cells)for(var e=0;e<this.rows;e++)for(var t=0;t<this.cols;t++)this.cells[e][t].bombsAround=this.countBombsAround(e,t)}},{key:"countCellsWithState",value:function(e){if(!this.cells)return 0;if(!e||!j.includes(e))return 0;for(var t=0,r=0;r<this.rows;r++)for(var s=0;s<this.cols;s++)this.cells[r][s].state===e&&t++;return t}}]),e}();r(22);var N=r.p+"static/media/bomb.50cb791f.svg";var C=function(){return Object(s.jsxs)("footer",{className:"logoArea",children:[Object(s.jsxs)("p",{children:["\xa0\xa0\xa0M I N E",Object(s.jsx)("br",{}),"SWEEPER"]}),Object(s.jsx)("img",{src:N,className:"appLogo",alt:"logo"})]})},S=(r(23),function(e,t,r){var s=new w(e,t);return s&&(s.fillWithBombs(r),s.calculateBombsAroundAllCells()),s}(i.rows,i.cols,i.noOfBombs)),A=function(){var e=Object(n.useState)(JSON.parse(JSON.stringify(S.cells))),t=Object(a.a)(e,2),r=t[0],o=t[1];return Object(s.jsxs)("div",{className:"minesweepergame",onContextMenu:function(e){return e.preventDefault()},children:[Object(s.jsx)(d,{marked:S.countCellsWithState("marked")}),Object(s.jsx)(x,{cellArr:r,myCellClickHandler:function(e){console.log(e.target),console.log(e.target.dataset);var t=Number(e.target.dataset.r),s=Number(e.target.dataset.c);1!==e.which&&0!==e.button||"open"!==r[t][s].state&&(console.log("[",t,",",s,"]: !open -> open"),S.cells[t][s].state="open",o(JSON.parse(JSON.stringify(S.cells)))),3!==e.which&&2!==e.button||("closed"===r[t][s].state?(console.log("[",t,",",s,"]: closed -> marked"),S.cells[t][s].state="marked",o(JSON.parse(JSON.stringify(S.cells)))):"marked"===r[t][s].state&&(console.log("[",t,",",s,"]: marked -> closed"),S.cells[t][s].state="closed",o(JSON.parse(JSON.stringify(S.cells)))))}}),Object(s.jsx)(C,{})]})};r(24);l.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(A,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.bf096659.chunk.js.map