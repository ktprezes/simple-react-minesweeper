{"version":3,"sources":["GameConst.js","FlagsCounter.js","ResetBtn.js","Timer.js","ControlPanel.js","CellClass.js","images/bomb1.svg","images/boom1.svg","Cell.js","Row.js","Field.js","FieldClass.js","Arr2dClass.js","images/bomb.svg","LogoArea.js","Game.js","index.js"],"names":["GameConst","noOfBombs","rows","cols","secPerMinute","gameStates","gameStateMsg","audioPath","imgPath","stylePath","FlagsCounter","props","count","marked","counterString","String","padStart","split","map","digit","i","cl","className","concat","ResetBtn","type","onClick","myResetBtnClickHandler","Timer","timeElapsed","Math","floor","ControlPanel","cellStates","CellClass","hasBomb","cellState","this","bomb","state","includes","bombsAround","Cell","rowNo","Number","r","colNo","c","cell","cellObj","myCellClickHandler","cellContent","auxCellClass","bombImg","src","alt","data-r","data-c","boomImg","boom","bombsCount","toString","cellClass","onContextMenu","Row","cells","Array","keys","no","cellRow","Field","rowNumbers","gameState","msg","cellArr","msgElemClass","msgElem","FieldClass","undefined","Error","checkNoOfBombsParam","fillWithBombs","calculateBombsAroundAllCells","arr","initArr","j","isSafeInteger","countBombs","random","row","col","isRowColInRange","cellsAroundIndexes","adjacency8IndexesList","length","filter","idx","countBombsAround","markedCellsWithBombsCounter","forEach","cellsToOpenIdx","adjacency4IndexesList","currNeighborIdx","r1","c1","addIfNotIncluded","cellIdx","neighborsIdx","neighbor","push","msgBegin","TypeError","RangeError","elementClass","Arr2dClass","checkRowsColsParams","checkElementClassParam","elementClassArgs","fill","v1","v2","isRowInRange","isColInRange","elem","isArray","elemJson","JSON","stringify","parse","wrapIndexes","indexes","shift","sort","unshift","LogoArea","logo","myField","intervalID","Game","useState","setGameState","markedCellsCount","setMarkedCellsCount","secondsElapsed","setSecondsElapsed","myFieldArrStringify","setCellArr","useEffect","resetField","clearInterval","setInterval","updateSecondsElapsed","prevSecondsElapsed","e","preventDefault","which","button","target","dataset","cellArrStateShouldUpdate","revealRemainingCells","revealAdjacentEmptyCells","isWinConditionSatisfied","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.88b260d8.chunk.js","sourcesContent":["// MineSweeper game constants\r\n\r\nconst GameConst = {\r\n    noOfBombs: 10,\r\n    rows: 9,\r\n    cols: 8,\r\n    secPerMinute: 60,\r\n    gameStates: ['init', 'action', 'defeat', 'victory'],\r\n    gameStateMsg: {\r\n        'init':    '',\r\n        'action':  '',\r\n        'defeat':  'YOU LOST',\r\n        'victory': 'YOU WIN'\r\n    },\r\n    audioPath: './sounds/',\r\n    imgPath: './images/',\r\n    stylePath: './styles/'\r\n} // const GameConst\r\n\r\nexport default GameConst;\r\n","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport './styles/FlagsCounter.css';\r\n\r\nfunction FlagsCounter(props) {\r\n    let count = props.marked;\r\n\r\n    // add some spaces between digits of the counter\r\n    // this is my version of the counter - but this doesn't pass the JBA tests\r\n\r\n    let counterString = String(count).padStart(3,'0').split('').map((digit, i)=>{\r\n        let cl = 'd'+i;\r\n        return <span className={cl} key={cl} >{digit}</span>\r\n    }).concat();\r\n\r\n    // just to pass the JBA tests\r\n    // let counterString = String(count).padStart(3,'0');\r\n\r\n    return (\r\n        <div className=\"flagsCounter\">\r\n            {counterString}\r\n        </div>\r\n    ); /*return() of function FlagsCounter()*/\r\n}/* function FlagsCounter()*/\r\n\r\nFlagsCounter.propTypes = {\r\n    marked: PropTypes.number.isRequired\r\n}\r\n\r\nexport default FlagsCounter;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport './styles/ResetBtn.css';\r\n\r\nfunction ResetBtn(props) {\r\n    return (\r\n        <button\r\n            type=\"button\"\r\n            className=\"resetBtn\"\r\n            onClick={props.myResetBtnClickHandler}\r\n        >New</button>\r\n    ); /*return() of function ResetBtn()*/\r\n}/* function ResetBtn()*/\r\n\r\n\r\nResetBtn.propTypes = {\r\n    myResetBtnClickHandler: PropTypes.func.isRequired\r\n}\r\n\r\n\r\nexport default ResetBtn;\r\n","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport GameConst from \"./GameConst\";\r\nimport './styles/Timer.css';\r\n\r\n\r\nfunction Timer(props) {\r\n    let timeElapsed = props.timeElapsed;\r\n\r\n    return (\r\n        <div className=\"timer\">\r\n            {Math.floor(timeElapsed/GameConst.secPerMinute)}<span>:</span>{String(timeElapsed % GameConst.secPerMinute).padStart(2,'0')}\r\n        </div>\r\n    ); /*return() of function Timer()*/\r\n}/* function Timer()*/\r\n\r\n\r\nTimer.propTypes = {\r\n    timeElapsed: PropTypes.number.isRequired\r\n}\r\n\r\n\r\nexport default Timer;\r\n","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport FlagsCounter from './FlagsCounter';\r\nimport ResetBtn from './ResetBtn';\r\nimport Timer from './Timer';\r\nimport './styles/ControlPanel.css';\r\n\r\nfunction ControlPanel(props) {\r\n    return (\r\n        <header className=\"ControlPanel\">\r\n            <FlagsCounter marked={props.marked}/>\r\n            <ResetBtn myResetBtnClickHandler={props.myResetBtnClickHandler} />\r\n            <Timer timeElapsed={props.timeElapsed}/>\r\n        </header>\r\n    ); /*return() of function ControlPanel()*/\r\n}/* function ControlPanel()*/\r\n\r\nControlPanel.propTypes = {\r\n    marked: PropTypes.number.isRequired,\r\n    timeElapsed: PropTypes.number.isRequired,\r\n    myResetBtnClickHandler: PropTypes.func.isRequired\r\n}\r\n\r\nexport default ControlPanel;\r\n","\r\n// --------------------------------------------------------\r\n// definition of 'CellClass' - the 'prototype' of objects\r\n// in the 'field' array and the 'backend' of 'Cell' components\r\n\r\nexport const cellStates = ['closed', 'open', 'marked'];\r\n\r\nclass CellClass {\r\n    constructor(hasBomb = false, cellState = 'closed') {\r\n        // just for debug purposes\r\n        // console.log('CellClass: ', hasBomb, cellState);\r\n        this.bomb = !!hasBomb;\r\n        this.state = cellStates.includes(cellState) ? cellState : 'closed';\r\n        this.bombsAround = 0; // it will be set after creating the whole board\r\n    } // class CellClass constructor\r\n} // class CellClass {\r\n\r\nexport default CellClass;\r\n","export default __webpack_public_path__ + \"static/media/bomb1.dab46aa2.svg\";","export default __webpack_public_path__ + \"static/media/boom1.4d436099.svg\";","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport CellClass from \"./CellClass\";\r\nimport bomb from \"./images/bomb1.svg\";\r\nimport boom from \"./images/boom1.svg\";\r\nimport './styles/Cell.css';\r\n\r\n\r\n// --------------------------------------------------------\r\n// definition of 'Cell' react component\r\n// visual representation of 'CellClass' objects\r\n\r\nexport const Cell = (props) => {\r\n\r\n    const rowNo = Number(props.r);\r\n    const colNo = Number(props.c);\r\n    const cell  = props.cellObj;\r\n    const myCellClickHandler = props.myCellClickHandler;\r\n    let cellContent = '';\r\n    let auxCellClass = '';\r\n\r\n    // non-empty Cell components (with bombImg/boomImg or bombsCount inside), when clicked,\r\n    // pass to the event handler as 'e.target' the child element (<img..> / <p>)\r\n    // NOT their own element value ( the <div className={cellClass}.. />)\r\n    // therefore the child elements need the dataset values ('data-r' and 'data-c') too,\r\n    // for the event handler to work properly\r\n    const bombImg = <img src={bomb} className=\"bomb-img\" alt=\"bomb\" data-r={rowNo} data-c={colNo} />;\r\n    const boomImg = <img src={boom} className=\"boom-img\" alt=\"boom\" data-r={rowNo} data-c={colNo} />;\r\n    const bombsCount = <p data-r={rowNo} data-c={colNo} >{cell.bombsAround.toString()}</p>;\r\n    // console.log(rowNo, colNo, cell, typeof cell.bomb, typeof cell.state);\r\n\r\n    if (cell.state === 'marked') {\r\n        cellContent = bombImg;\r\n        auxCellClass = 'marked';\r\n    } else if (cell.state === 'open' && cell.bomb) {\r\n        cellContent = boomImg;\r\n        auxCellClass = 'open boom';\r\n    } else if (cell.state === 'open' && !cell.bomb) {\r\n        cellContent = cell.bombsAround === 0 ? '' : bombsCount;\r\n        auxCellClass = 'open empty';\r\n    } else { // default 'closed' state is here, too...\r\n        cellContent = '';\r\n        auxCellClass = 'closed';\r\n    }\r\n    let cellClass = 'cell ' + auxCellClass;\r\n\r\n    // console.log(cellClass);\r\n\r\n    // the 'data-xxx' attributes are available withing event handler function as 'dataset keys',\r\n    //  e.g.: 'data-r' can be accessed within the event handler function\r\n    // as e.target.dataset.r\r\n    return (\r\n        <div className={cellClass}\r\n             data-r={rowNo}\r\n             data-c={colNo}\r\n             onClick={myCellClickHandler}\r\n             onContextMenu={myCellClickHandler}\r\n        >\r\n            {cellContent}\r\n        </div>\r\n    ); // return() of Cell() function\r\n} // function Cell()\r\n\r\nCell.propTypes = {\r\n    r: PropTypes.string.isRequired,\r\n    c: PropTypes.string.isRequired,\r\n    cellObj: PropTypes.instanceOf(CellClass).isRequired,\r\n    myCellClickHandler: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Cell;\r\n\r\n\r\n/*\r\ncell - possible states:\r\n\r\n(initial state)\r\n   'closed'  <-- Right Click -->  'marked'\r\n class: closed                  class: marked\r\n       \\                          /\r\n        \\                        /\r\n   (left click)           (left click)\r\n          \\                   /\r\n           V                 V\r\n              has bomb  ???\r\n             /           \\\r\n           YES           NO\r\n          /               \\\r\n         V                V\r\n  'open' + bomb       'open' without bomb\r\nclass: 'open boom'    class: 'open empty'\r\n */\r\n","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport GameConst from \"./GameConst\";\r\nimport CellClass from \"./CellClass\";\r\nimport Cell from './Cell';\r\nimport './styles/Row.css';\r\n\r\n\r\nfunction Row (props) {\r\n    const rowNo = props.r;\r\n    const colNumbers = [...Array(GameConst.cols).keys()];\r\n    const cells = colNumbers.map(\r\n      (no) => {\r\n        let colNo = no.toString();\r\n/*\r\n        // create random 'CellClass' object - code used for testing purposes\r\n        // requires the 'cellStates' to be imported from the \"./CellClass\" file\r\n        let cellObj = new CellClass(\r\n            Math.floor(Math.random() * 2),\r\n            cellStates[Math.floor(Math.random() * cellStates.length)]\r\n        );\r\n*/\r\n        //console.log(rowNo, colNo, cellObj);\r\n        return <Cell key={'r' + rowNo + 'c' + colNo}\r\n                     r={rowNo}\r\n                     c={colNo}\r\n                     cellObj={props.cellRow[no]}\r\n                     myCellClickHandler={props.myCellClickHandler}\r\n               />\r\n      }\r\n    ); // const cells = colNumbers.map(\r\n\r\n    return (\r\n        <div className=\"Row\" r={rowNo}>\r\n            {cells}\r\n        </div>\r\n    ); /*return() of function Row()*/\r\n}/* function Row()*/\r\n\r\n\r\nRow.propTypes = {\r\n  r: PropTypes.string.isRequired,\r\n  cellRow: PropTypes.arrayOf(PropTypes.instanceOf(CellClass)).isRequired,\r\n  myCellClickHandler: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Row;\r\n","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport GameConst from \"./GameConst\";\r\nimport CellClass from \"./CellClass\";\r\nimport Row from './Row';\r\nimport './styles/Field.css';\r\n\r\nfunction Field(props) {\r\n    const rowNumbers = [...Array(GameConst.rows).keys()];\r\n\r\n    let gameState = props.gameState;\r\n    let msg = GameConst.gameStateMsg[gameState];\r\n\r\n    const rows = rowNumbers.map((no) => {\r\n        let rowNo = no.toString();\r\n        return <Row key={'r'+rowNo}\r\n                    r={rowNo}\r\n                    cellRow={props.cellArr[no]}\r\n                    myCellClickHandler={props.myCellClickHandler}\r\n                />\r\n    });\r\n\r\n    let msgElemClass = gameState === 'victory'\r\n        ? \"msg win\"\r\n        : gameState === 'defeat'\r\n            ? \"msg lost\"\r\n            : \"msg\";\r\n\r\n    let msgElem = msg ? <p\r\n        className={msgElemClass}\r\n    >{msg}</p> : '';\r\n    // console.log('Field Msg:', msg);\r\n\r\n    return (\r\n        <main className=\"Field\">\r\n            {rows}\r\n            {msgElem}\r\n        </main>\r\n    ); /*return() of function Field()*/\r\n}/* function Field()*/\r\n\r\nField.propTypes = {\r\n    cellArr: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.instanceOf(CellClass))).isRequired,\r\n    gameState: PropTypes.string.isRequired,\r\n    myCellClickHandler: PropTypes.func.isRequired\r\n}\r\n\r\n\r\nexport default Field;\r\n\r\n","import Arr2dClass from \"./Arr2dClass\";\r\nimport GameConst from \"./GameConst\";\r\nimport CellClass from \"./CellClass\";\r\n\r\n// --------------------------------------------------------\r\n// definition of 'FieldClass' - the 'prototype' of the 'field'\r\n// object which is a 2d-array[rows][cols] of 'CellClass' objects\r\n// and the 'backend' of the 'Field' component - it represents\r\n// the main board of the minesweeper game\r\n\r\n\r\nclass FieldClass extends Arr2dClass {\r\n\r\n    constructor(rows, cols, noOfBombs) {\r\n        // check if the constructor war properly called\r\n        if (new.target === undefined)\r\n            throw new Error(\"FieldClass constructor: not called using the 'new' operator as it should be.\");\r\n\r\n        FieldClass.checkNoOfBombsParam(noOfBombs);\r\n\r\n        // 'super' inits fields: 'rows', 'cols', 'arr'\r\n        // the 'arr' is 2d-array[rows][cols] of 'CellClass' with\r\n        // default values: bomb: false, state: 'closed', 'bombsAround': 0\r\n        super(rows, cols, CellClass, false, 'closed');\r\n        // console.log('FieldClass Constructor before \"fill with bombs\":')\r\n        // console.log(JSON.stringify(this.arr));\r\n\r\n        this.noOfBombs = noOfBombs;\r\n\r\n        this.fillWithBombs(noOfBombs);\r\n        this.calculateBombsAroundAllCells();\r\n        // console.log(\"FieldClass Constructor: 'arr' after 'fill with bombs':\");\r\n        // console.log(JSON.stringify(this.arr));\r\n    }; // constructor(rows, cols) {\r\n\r\n\r\n    static checkNoOfBombsParam(noOfBombs, msgBegin = 'FieldClass constructor: ') {\r\n        if (!Number.isSafeInteger(noOfBombs))\r\n            throw new TypeError(`${msgBegin}'noOfBombs' should be non-negative integer value.`);\r\n        if (noOfBombs < 0)\r\n            throw new RangeError(`${msgBegin}'noOfBombs' should be non-negative integer value.`);\r\n\r\n        return true;\r\n    } // static checkNoOfBombsParam(noOfBombs, msgBegin = 'FieldClass constructor: '){\r\n\r\n\r\n    // the 'rows', 'cols' and 'noOfBombs' values for the field\r\n    // remains the same - they are persistent\r\n    // but the new 'cells' 2d-array of 'CellClass' objects is created\r\n    // with default values: hasBomb: false, cellState: 'closed'\r\n    // and filled with initial count of 'noOfBombs' in random places,\r\n    // and the 'bombsAround' value for every cell is calculated\r\n    resetField() {\r\n        this.arr = this.initArr(CellClass, false, 'closed');\r\n\r\n        this.fillWithBombs(this.noOfBombs);\r\n        this.calculateBombsAroundAllCells();\r\n    } // resetField() {\r\n\r\n\r\n    // count number of 'cells' in the 'field' array\r\n    // with 'bomb' set to 'true'\r\n    countBombs() {\r\n        if (!this.arr) return 0;\r\n\r\n        let count = 0;\r\n        for (let i = 0; i < this.rows; i++) {\r\n            for (let j = 0; j < this.cols; j++) {\r\n                if (this.arr[i][j].bomb === true) {\r\n                    count++;\r\n                }\r\n            } // for (let j...)\r\n        } // for (let i...)\r\n\r\n        return count;\r\n    }; // const countBombs () {\r\n\r\n\r\n    // place randomly 'noOfBombs' somewhere on the 'field'\r\n    fillWithBombs(noOfBombs) {\r\n        if (!this.arr || !Number.isSafeInteger(noOfBombs)) return false;\r\n        if (noOfBombs < 1 || noOfBombs > this.rows * this.cols) return false;\r\n\r\n        // 'while' loop instead of 'for' to maintain cases,\r\n        // when 'random' hits the same cell multiple times\r\n        while (this.countBombs() < noOfBombs) {\r\n            let r = Math.floor(Math.random() * this.rows);\r\n            let c = Math.floor(Math.random() * this.cols);\r\n            this.arr[r][c].bomb = true;\r\n        }\r\n        return true;\r\n    }; // fillWithBombs (noOfBombs) {\r\n\r\n\r\n    // for the cell[row][col] count the number\r\n    // of 'bombs' in the neighborhood\r\n    countBombsAround(row, col) {\r\n        if (!this.arr) return 0;\r\n        if (!this.isRowColInRange(row, col)) return 0;\r\n\r\n        let cellsAroundIndexes = this.adjacency8IndexesList(row, col, false);\r\n        if (!cellsAroundIndexes || cellsAroundIndexes.length === 0) return 0;\r\n\r\n        // the 'cellsAroundIndexes' (if its not empty) entries are 2-element sub-arrays: [r,c]\r\n        // with indexes of cells adjacent to that one located at [row][col]\r\n        // therefore we can destructure that sub-arrays\r\n        // the 'length' of filtered 'cellsAroundIndexes' array\r\n        // should be equal (and it is, I hope) to number of bombs in the near of arr[row][col]\r\n        return cellsAroundIndexes.filter((idx) => {\r\n            const [r, c] = idx;\r\n            return this.arr[r][c].bomb; // 'bomb' is already of 'boolean' type\r\n        }).length;\r\n    } // countBombsAround(row, col) {\r\n\r\n\r\n    // update 'bombsAround' property for all cells in the field\r\n    calculateBombsAroundAllCells() {\r\n        if (!this.arr) return;\r\n        for (let r = 0; r < this.rows; r++) {\r\n            for (let c = 0; c < this.cols; c++) {\r\n                this.arr[r][c].bombsAround = this.countBombsAround(r, c);\r\n            } // for (let c...)\r\n        } // for (let r...)\r\n    } //calculateBombsAroundAllCells() {\r\n\r\n\r\n    isWinConditionSatisfied() {\r\n        if (!this.arr) return false;\r\n\r\n        let markedCellsWithBombsCounter = 0;\r\n\r\n        this.arr.forEach((row) => {\r\n            row.forEach((cell) => {\r\n                if (cell && cell.bomb && cell.state === 'marked') {\r\n                    markedCellsWithBombsCounter++;\r\n                }\r\n            })\r\n        });\r\n\r\n        return markedCellsWithBombsCounter === GameConst.noOfBombs;\r\n    } // isWinConditionSatisfied() {\r\n\r\n\r\n    // sets the state of all cells (besides these properly-marked) to 'open'\r\n    // method used after finishing the game to show the whole field\r\n    // (properly marked cells with bombs remain marked - to show proper icon)\r\n    revealRemainingCells() {\r\n        if (!this.arr) return false;\r\n\r\n        this.arr.forEach((row) => {\r\n            row.forEach((cell) => {\r\n                if (cell && !(cell.bomb && cell.state === 'marked')) {\r\n                    cell.state = 'open';\r\n                }\r\n            })\r\n        });\r\n    } // revealRemainingCells() {\r\n\r\n\r\n    // sets to 'open' the state off all adjacent cells with 'bombsAround' == 0,\r\n    // and their neighbors, starting from the given cell\r\n    // returns the number of all opened cells\r\n    revealAdjacentEmptyCells(row, col) {\r\n        if (!this.arr) return 0;\r\n        if (!this.isRowColInRange(row, col)) return 0;\r\n        if (!this.arr[row][col] || !this.arr[row][col].bombsAround === 0) return 0;\r\n\r\n        // treat the indexes of the given cell as a seed\r\n        let cellsToOpenIdx = [[row, col]];\r\n\r\n        // as the first step make a list of indexes\r\n        // of all adjacent cells with 0 bombs in the near\r\n        // take into account the 4-directions (NSWE) adjacency\r\n        // without 'index wrapping'\r\n        // we use 'do.. while()', and not the 'map/forEach' methods\r\n        // because we modify the original array 'cellsToOpenIdx'\r\n        // and this may lead to tricky errors with 'map/forEach'\r\n        let i = 0;\r\n        do {\r\n            let [r, c] = cellsToOpenIdx[i];\r\n            this.adjacency4IndexesList(r, c,false ).forEach((currNeighborIdx) => {\r\n                let [r1, c1] = currNeighborIdx;\r\n                // check if the neighbor has 0 bombs in the near, too\r\n                if (this.arr[r1][c1].bombsAround === 0) {\r\n                    this.addIfNotIncluded(cellsToOpenIdx, currNeighborIdx);\r\n                }\r\n            })\r\n        } while (++i < cellsToOpenIdx.length);\r\n\r\n        // right now we have to have the list of indexes\r\n        // of all adjacent cells with 0 bombs in the near\r\n        // let's try to open that cells\r\n        cellsToOpenIdx.forEach((cellIdx) => {\r\n            let [r, c] = cellIdx;\r\n            this.arr[r][c].state = 'open';\r\n        })\r\n\r\n        // we open the neighbors of that empty, 0-bomb surrounded cells, too\r\n        // this time we consider  the 8-directions adjacency\r\n        let neighborsIdx = [];\r\n        cellsToOpenIdx.forEach((cellIdx) => {\r\n            let [r, c] = cellIdx;\r\n            this.adjacency8IndexesList(r,c,false).forEach((neighbor) => {\r\n                let [r1,c1] = neighbor;\r\n                if (this.arr[r1][c1].state !== 'open'){\r\n                    neighborsIdx.push(neighbor);\r\n                    this.arr[r1][c1].state = 'open';\r\n                }\r\n            })\r\n        })\r\n\r\n        return cellsToOpenIdx.length + neighborsIdx.length;\r\n    } // revealAdjacentEmptyCells(row, col) {\r\n\r\n\r\n} // class FieldClass {\r\n\r\n\r\nexport default FieldClass;\r\n\r\n","\r\nclass Arr2dClass {\r\n\r\n    // creates new 2d-array[rows][cols] of 'new elementClass(...elementClassArgs)' elements\r\n    // requires 'rows' and 'cols' to be positive integers\r\n    // 'elementClass' is optional, but when provided, should be a function (e.g. some class name)\r\n    // 'elementClassArgs' are not checked - just passed to the 'elementClass' function\r\n    constructor(rows, cols, elementClass, ...elementClassArgs) {\r\n        // just for debug purposes\r\n        // console.log('Arr2dClass: ', rows, cols, elementClass, elementClassArgs);\r\n\r\n        // check if the constructor war properly called\r\n        if (new.target === undefined)\r\n            throw new Error(\"Arr2dClass constructor: not called using the 'new' operator as it should be.\");\r\n\r\n        Arr2dClass.checkRowsColsParams(rows, cols);\r\n        Arr2dClass.checkElementClassParam(elementClass);\r\n\r\n        this.rows = rows;\r\n        this.cols = cols;\r\n\r\n        //initializes 'this.arr' with 2d-array of 'elementClass(...elementClassArgs)'\r\n        this.arr = this.initArr(elementClass, ...elementClassArgs);\r\n\r\n    } // constructor(rows, cols, elementClass, ...elementClassArgs) {\r\n\r\n\r\n    // throws a TypeError when passed args are not numeric integer values\r\n    // throws a RangeError when passed args are not positive integer values\r\n    static checkRowsColsParams(rows, cols, msgBegin = 'Arr2dClass constructor: ') {\r\n        // check the presence of mandatory constructor parameters\r\n        if (!Number.isSafeInteger(rows) || !Number.isSafeInteger(cols))\r\n            throw new TypeError(`${msgBegin}You have to provide 2 positive integer arguments to create new Arr2dClass object.`);\r\n\r\n        // we want to create only non-degenerated 2d-arrays\r\n        // ok, '1x1' may not be very impressive one, but is acceptable\r\n        if (rows <= 0 || cols <= 0)\r\n            throw new RangeError(`${msgBegin}You have to provide 2 positive integer arguments to create new Arr2dClass object.`);\r\n\r\n        return true;\r\n    } // static checkRowsColsParams(rows, cols, msgBegin) {\r\n\r\n\r\n    // the 'elementClass', when provided, should be a function - e.g. some class constructor\r\n    // because its purpose is to create new Object - the Arr2dClass element\r\n    // throws a TypeError, when elementClass is defined, but not a function\r\n    static checkElementClassParam(elementClass, msgBegin = 'Arr2dClass constructor: ') {\r\n        if (elementClass && typeof elementClass !== \"function\")\r\n            throw new TypeError(`${msgBegin}the third argument, when provided, should be the Arr2dClass element class name.`);\r\n\r\n        return true;\r\n    } // static checkElementClassParam(elementClass, msgBegin) {\r\n\r\n\r\n    // preserves 'rows' and 'cols'\r\n    // initializes 'this.arr' with new 2d-array\r\n    // possibly of new 'elementClass' with new 'elementClassArgs'\r\n    // when 'elementClass' is undefined of not a function,\r\n    // fills 'this.elements' 2d-array[rows][cols] with empty objects {}\r\n    initArr(elementClass, ...elementClassArgs) {\r\n        // the 'elementClass', when defined, should be a function\r\n        // if it isn't - throw 'TypeError'\r\n        Arr2dClass.checkElementClassParam(elementClass);\r\n\r\n        return new Array(this.rows).fill().map(\r\n            // 'v1' undefined - see 'fill()', but required to access the 'r' arg - index - 'row' number\r\n            (v1, r) => {\r\n                // just for debug purposes\r\n                // console.log('r: ', r);\r\n                return Array(this.cols).fill().map(\r\n                    // 'v2' undefined - see 'fill()', but required to access the 'c' arg - index - 'col' number\r\n                    (v2, c) => {\r\n                        // just for debug purposes\r\n                        // console.log('c: ', c);\r\n\r\n                        let elem;\r\n\r\n                        // we want the 'arr' elements at different locations \r\n                        // e.g. [0][2] and [3][1] to be DIFFERENT objects!!! \r\n                        // even if they will be empty objects\r\n                        // the simple 'return {}' does NOT guarantee that\r\n                        // so we try different approaches\r\n                        if (elementClass) {\r\n                            elem = new elementClass(...elementClassArgs);\r\n                        } else {\r\n                            // it DOES NOT work (returns references to THE SAME object for the whole row)\r\n                            // return {};\r\n\r\n                            // but IT WORKS (entering local variable with {} value\r\n                            elem = {};\r\n\r\n                            // other approaches which WORK TOO:\r\n                            // elem = Object.create({});\r\n                            // elem = new Object({});\r\n                            // elem = new {};\r\n                        }\r\n                        // just for debug purposes\r\n                        // console.log(`map for arr[${r}][${c}] returns: ${elem}`);\r\n\r\n                        return elem;\r\n                    }) // (v2,c) => {\r\n            }); // (v1,r) => {\r\n    } // initArr(elementClass, ...elementClassArgs) {\r\n\r\n\r\n    isRowInRange(row) {\r\n        if (!Number.isSafeInteger(row)) return false;\r\n        return !(row < 0 || row >= this.rows);\r\n    } // isRowInRange(row) {\r\n\r\n\r\n    isColInRange(col) {\r\n        if (!Number.isSafeInteger(col)) return false;\r\n        return !(col < 0 || col >= this.cols);\r\n    } // isColInRange(col) {\r\n\r\n\r\n    isRowColInRange(row, col) {\r\n        return this.isRowInRange(row) && this.isColInRange(col);\r\n    }\r\n\r\n\r\n    // adds the 'elem' to the end of the array 'arr'\r\n    // IF IT IS NOT ALREADY INCLUDED IN IT\r\n    // (the 'elem' may be anything - the nested array, too)\r\n    // returns new length of the 'arr' array\r\n    // returns 0 (zero) if 'arr' is not array \r\n    // or if 'arr' or 'elem' are null or undefined\r\n    addIfNotIncluded(arr, elem) {\r\n        if (!arr || !elem) return 0;\r\n        if (!Array.isArray(arr)) return 0;\r\n\r\n        let elemJson = JSON.stringify(elem);\r\n\r\n        // when the 'elem' is already included in the 'arr' array\r\n        // don't add it again\r\n        if (!JSON.stringify(arr).includes(elemJson)) {\r\n            // let's create the deep copy of 'elem'\r\n            arr.push(JSON.parse(elemJson));\r\n        }\r\n\r\n        return arr.length;\r\n    }\r\n\r\n    \r\n    // returns the list of indexes of 4 elements adjacent to the one located at [row][col]\r\n    // for adjacency checking the NSWE - north, south, west, east directions are taken into account\r\n    // that list may have from 0 to 4 (both ends included) entries\r\n    // depending on the size of 'this.arr' and the 'wrapIndexes' parameter\r\n    adjacency4IndexesList(row, col, wrapIndexes = false) {\r\n        if (!this.isRowColInRange(row, col)) return [];\r\n\r\n        //trivial case - no neighbors\r\n        if (this.rows === 1 && this.cols === 1) return [];\r\n\r\n        // just a little trick: \r\n        // we add the \"elem's\" indexes to the list as the first entry\r\n        // to avoid adding them later and at the end we'll remove them \r\n        // to return only the neighbors' indexes\r\n        let indexes = [[row, col]];\r\n\r\n        // N (north) neighbor\r\n        if (this.isRowInRange(row - 1)) {\r\n            this.addIfNotIncluded(indexes, [row - 1, col])\r\n        } else if (wrapIndexes) {\r\n            this.addIfNotIncluded(indexes, [this.rows - 1, col])\r\n        }\r\n\r\n        // S (south) neighbor\r\n        if (this.isRowInRange(row + 1)) {\r\n            this.addIfNotIncluded(indexes, [row + 1, col])\r\n        } else if (wrapIndexes) {\r\n            this.addIfNotIncluded(indexes, [0, col])\r\n        }\r\n\r\n        // W (west) neighbor\r\n        if (this.isColInRange(col - 1)) {\r\n            this.addIfNotIncluded(indexes, [row, col - 1])\r\n        } else if (wrapIndexes) {\r\n            this.addIfNotIncluded(indexes, [row, this.cols - 1])\r\n        }\r\n\r\n        // E (east) neighbor\r\n        if (this.isColInRange(col + 1)) {\r\n            this.addIfNotIncluded(indexes, [row, col + 1])\r\n        } else if (wrapIndexes) {\r\n            this.addIfNotIncluded(indexes, [row, 0])\r\n        }\r\n\r\n        // remove the checked element's indexes\r\n        // from the list of its neighbors indexes\r\n        indexes.shift();\r\n\r\n        return indexes.sort();\r\n    } // adjacency4IndexesList(row, col, wrapIndexes = false) {\r\n\r\n\r\n    // returns the list of indexes of elements adjacent to the one located at [row][col]\r\n    // for adjacency checking all 8 directions (N NW NE W E SW S SE) are taken into account\r\n    // that list may have from 0 to 8 (both ends included) entries\r\n    // depending on the size of 'this.arr' and the 'wrapIndexes' parameter\r\n    adjacency8IndexesList(row, col, wrapIndexes = false) {\r\n        if (!this.isRowInRange(row) || !this.isColInRange(col)) return [];\r\n\r\n        //trivial case - no neighbors\r\n        if (this.rows === 1 && this.cols === 1) return [];\r\n\r\n        // we already have the method which adds NSWE indexes :)\r\n        let indexes = this.adjacency4IndexesList(row, col, wrapIndexes);\r\n\r\n        // lets repeat the trick from the 'adjacency4IndexesList'\r\n        indexes.unshift([row, col]);\r\n\r\n        // TODO: add NW, NE, SW, SE neighbors\r\n\r\n        if (this.isRowInRange(row - 1)) {\r\n            if (this.isColInRange(col - 1)) {\r\n                this.addIfNotIncluded(indexes, [row - 1, col - 1]);\r\n            } else if (wrapIndexes) {\r\n                this.addIfNotIncluded(indexes, [row - 1, this.cols - 1]);\r\n            }\r\n\r\n            if (this.isColInRange(col + 1)) {\r\n                this.addIfNotIncluded(indexes, [row - 1, col + 1]);\r\n            } else if (wrapIndexes) {\r\n                this.addIfNotIncluded(indexes, [row - 1, 0]);\r\n            }\r\n        } else if (wrapIndexes){\r\n            if (this.isColInRange(col - 1)) {\r\n                this.addIfNotIncluded(indexes, [this.rows - 1, col - 1]);\r\n            } else { // 'wrapIndexes' is 'true' here -> there's no need to check it\r\n                this.addIfNotIncluded(indexes, [this.rows - 1, this.cols - 1]);\r\n            }\r\n\r\n            if (this.isColInRange(col + 1)) {\r\n                this.addIfNotIncluded(indexes, [this.rows - 1, col + 1]);\r\n            } else { // 'wrapIndexes' is 'true' here -> there's no need to check it\r\n                this.addIfNotIncluded(indexes, [this.rows - 1, 0]);\r\n            }\r\n        }\r\n\r\n        if (this.isRowInRange(row + 1)) {\r\n            if (this.isColInRange(col - 1)) {\r\n                this.addIfNotIncluded(indexes, [row + 1, col - 1]);\r\n            } else if (wrapIndexes) {\r\n                this.addIfNotIncluded(indexes, [row + 1, this.cols - 1]);\r\n            }\r\n\r\n            if (this.isColInRange(col + 1)) {\r\n                this.addIfNotIncluded(indexes, [row + 1, col + 1]);\r\n            } else if (wrapIndexes) {\r\n                this.addIfNotIncluded(indexes, [row + 1, 0]);\r\n            }\r\n        } else if (wrapIndexes) {\r\n            if (this.isColInRange(col - 1)) {\r\n                this.addIfNotIncluded(indexes, [0, col - 1]);\r\n            } else { // 'wrapIndexes' is 'true' here -> there's no need to check it\r\n                this.addIfNotIncluded(indexes, [0, this.cols - 1]);\r\n            }\r\n\r\n            if (this.isColInRange(col + 1)) {\r\n                this.addIfNotIncluded(indexes, [0, col + 1]);\r\n            } else { // 'wrapIndexes' is 'true' here -> there's no need to check it\r\n                this.addIfNotIncluded(indexes, [0, 0]);\r\n            }\r\n        }\r\n\r\n        // remove the checked element's indexes\r\n        // from the list of its neighbors indexes\r\n        indexes.shift();\r\n\r\n        return indexes.sort();\r\n    } // adjacency8IndexesList(row, col, wrapIndexes = false) {\r\n\r\n} // class Arr2dClass\r\n\r\nexport default Arr2dClass;\r\n","export default __webpack_public_path__ + \"static/media/bomb.50cb791f.svg\";","import React from \"react\";\r\nimport logo from \"./images/bomb.svg\";\r\nimport './styles/LogoArea.css';\r\n\r\nfunction LogoArea() {\r\n    return (\r\n        <footer className=\"logoArea\">\r\n            <p>&nbsp;&nbsp;&nbsp;M I N E<br />SWEEPER</p>\r\n            <img src={logo} className=\"appLogo\" alt=\"logo\" />\r\n        </footer>\r\n    ); /*return() of function LogoArea()*/\r\n}/* function LogoArea()*/\r\n\r\nexport default LogoArea;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport GameConst from \"./GameConst\";\r\nimport ControlPanel from './ControlPanel';\r\nimport Field from \"./Field\";\r\nimport FieldClass from \"./FieldClass\";\r\nimport LogoArea from \"./LogoArea\";\r\nimport './styles/Game.css';\r\n\r\n\r\nconst myField = new FieldClass(GameConst.rows, GameConst.cols, GameConst.noOfBombs);\r\n\r\nlet intervalID = null;\r\n\r\nconst Game = () => {\r\n\r\n    const [gameState, setGameState] = useState('init');\r\n\r\n    const [markedCellsCount, setMarkedCellsCount] = useState(0);\r\n    const [secondsElapsed, setSecondsElapsed] = useState(0);\r\n\r\n    let myFieldArrStringify = JSON.stringify(myField.arr);\r\n\r\n    // to properly handle the 'state', we need the deep copy of 'myField.arr'\r\n    // (the deeper one then the spread/'...' operator provides)\r\n    const [cellArr, setCellArr] = useState(JSON.parse(myFieldArrStringify));\r\n    // console.log('Game begin');\r\n    // console.log(myFieldArrStringify);\r\n\r\n\r\n    useEffect(() => {\r\n        if (gameState === 'init') {\r\n            // the 'init' state is at the very beginning and after 'resetBtn' click\r\n            // create new field of cells with bombs\r\n            myField.resetField();\r\n            setMarkedCellsCount(0);\r\n            setSecondsElapsed(0);\r\n            setCellArr(JSON.parse(JSON.stringify(myField.arr)));\r\n            if (intervalID) {\r\n                clearInterval(intervalID);\r\n                intervalID = null;\r\n            }\r\n        } else if (gameState === 'action') {\r\n            intervalID = setInterval(updateSecondsElapsed, 1000);\r\n        } else if (gameState === 'defeat') {\r\n            if (intervalID) {\r\n                clearInterval(intervalID);\r\n                intervalID = null;\r\n            }\r\n        } else if (gameState === 'victory') {\r\n            if (intervalID) {\r\n                clearInterval(intervalID);\r\n                intervalID = null;\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            if (intervalID) {\r\n                clearInterval(intervalID);\r\n                intervalID = null;\r\n            }\r\n        }\r\n    }, [gameState]);    // useEffect(() => {\r\n\r\n\r\n    const updateSecondsElapsed = () => {\r\n        setSecondsElapsed((prevSecondsElapsed) => prevSecondsElapsed + 1)\r\n    };\r\n\r\n    const handleCellClicks = (e) => {\r\n        // console.log(e.target);\r\n        // console.log(e.target.dataset);\r\n        let row = Number(e.target.dataset.r);\r\n        let col = Number(e.target.dataset.c);\r\n        let cellArrStateShouldUpdate = false;\r\n\r\n        // console.log(JSON.stringify(myField.arr[row][col]));\r\n\r\n        if (gameState === 'init' || gameState === 'action') {\r\n            // first click on a cell -> let's start the game...\r\n            if (gameState === 'init') {\r\n                setGameState('action');\r\n            }\r\n\r\n            // handle 'left mouse button' - 'onClick' event\r\n            if (e.which === 1 || e.button === 0) {\r\n                // console.log('Left mouse button at ' + e.clientX + 'x' + e.clientY);\r\n                if (myField.arr[row][col].state !== 'open') {\r\n                    // console.log('[',row,',',col,']: !open -> open');\r\n                    // when the state was 'marked' we have to update the counter!\r\n                    if (myField.arr[row][col].state === 'marked') {\r\n                        setMarkedCellsCount(markedCellsCount - 1);\r\n                    }\r\n\r\n                    myField.arr[row][col].state = 'open';\r\n\r\n                    // oopppssss.. you've left-clicked\r\n                    // non-open cell with bomb :(\r\n                    if (myField.arr[row][col].bomb) {\r\n                        myField.revealRemainingCells();\r\n                        setGameState('defeat');\r\n                    } else if (myField.arr[row][col].bombsAround === 0) {\r\n                        // left-clicked empty cell with 0 bombs in the near,\r\n                        // so reveal all adjacent cells with 0 bombs\r\n                        // in the near and their neighbors\r\n                        myField.revealAdjacentEmptyCells(row, col);\r\n                    }\r\n\r\n                    cellArrStateShouldUpdate = true;\r\n                }\r\n            } // end of handle 'left mouse button'\r\n\r\n            // handle 'right mouse button' - 'onContextMenu' event\r\n            if (e.which === 3 || e.button === 2) {\r\n                // console.log('Right mouse button at ' + e.clientX + 'x' + e.clientY);\r\n                if (cellArr[row][col].state === 'closed') {\r\n                    // console.log('[',row,',',col,']: closed -> marked');\r\n                    myField.arr[row][col].state = 'marked';\r\n                    setMarkedCellsCount(markedCellsCount + 1);\r\n                    if (myField.isWinConditionSatisfied()){\r\n                        myField.revealRemainingCells();\r\n                        setGameState('victory');\r\n                    }\r\n\r\n                    cellArrStateShouldUpdate = true;\r\n                } else if (cellArr[row][col].state === 'marked') {\r\n                    // console.log('[',row,',',col,']: marked -> closed');\r\n                    myField.arr[row][col].state = 'closed';\r\n                    setMarkedCellsCount(markedCellsCount - 1);\r\n                    if (myField.isWinConditionSatisfied()){\r\n                        myField.revealRemainingCells();\r\n                        setGameState('victory');\r\n                    }\r\n\r\n                    cellArrStateShouldUpdate = true;\r\n                }\r\n            } // end of handle 'right mouse button'\r\n        } // if (gameState === 'init' || gameState === 'action') {\r\n        if (cellArrStateShouldUpdate) setCellArr(JSON.parse(JSON.stringify(myField.arr)));\r\n    } // const handleCellClicks = (e) => {\r\n\r\n\r\n    const handleResetBtnClick = (e) => {\r\n        // handle 'left mouse button' - 'onClick' event\r\n        if (e.which === 1 || e.button === 0) {\r\n            setGameState('init');\r\n        }\r\n    } // const handleResetBtnClick = (e) => {\r\n\r\n\r\n    return (\r\n        <div className=\"minesweepergame\"\r\n             onContextMenu={(e) => e.preventDefault()}\r\n        >\r\n            <ControlPanel\r\n                marked={markedCellsCount}\r\n                timeElapsed={secondsElapsed}\r\n                myResetBtnClickHandler={handleResetBtnClick}\r\n            />\r\n            <Field\r\n                cellArr={cellArr}\r\n                gameState={gameState}\r\n                myCellClickHandler={handleCellClicks}\r\n            />\r\n            <LogoArea/>\r\n        </div>\r\n    ); // return() of function Game()\r\n}; // Game()\r\n\r\nexport default Game;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Game from \"./Game\";\nimport './styles/index.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Game />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}